#!/usr/bin/env bash

echo "游대  mkdir -p ./build";
mkdir -p ./build;

echo "游대  node --max_old_space_size=8192 node_modules/.bin/webpack --config webpack.browser.prod.config.js --display-modules ";
node --max_old_space_size=8192 node_modules/.bin/webpack --config webpack.browser.prod.config.js --display-modules;

echo "游대   rm -rf ./build/mymonero-core-js/";
rm -rf ./build/mymonero-core-js/;

echo "游대   mkdir -p ./build/mymonero-core-js/monero_utils/";
mkdir -p ./build/mymonero-core-js/monero_utils/;

echo "游대   cp monero_utils/MyMoneroCoreCpp_WASM.wasm ./build/mymonero-core-js/monero_utils/";
cp monero_utils/MyMoneroCoreCpp_WASM.wasm ./build/mymonero-core-js/monero_utils/;

echo "游대   cp monero_utils/MyMoneroCoreCpp_ASMJS.asm.js ./build/mymonero-core-js/monero_utils/";
cp monero_utils/MyMoneroCoreCpp_ASMJS.asm.js ./build/mymonero-core-js/monero_utils/;
